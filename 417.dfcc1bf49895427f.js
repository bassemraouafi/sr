"use strict";(self.webpackChunksr_stock=self.webpackChunksr_stock||[]).push([[417],{1417:(k,u,l)=>{l.r(u),l.d(u,{AddArticleModule:()=>F});var s=l(6895),g=l(1959),o=l(433),e=l(1571),p=l(73),m=l(4696);function A(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"span",45),e._uU(2),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeAlert())}),e.TgZ(4,"span",47),e._uU(5,"\xd7"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMessage)}}function h(r,n){1&r&&(e.TgZ(0,"div",48),e._uU(1," la d\xe9signation est requise. "),e.qZA())}function f(r,n){1&r&&(e.TgZ(0,"div",48),e._uU(1," choisissez l'unit\xe9 de stockage "),e.qZA())}function _(r,n){1&r&&(e.TgZ(0,"div",48),e._uU(1," PU TTC est incorrect. "),e.qZA())}function v(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\u33a1"),e.qZA())}function Z(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"pi\xe8ce"),e.qZA())}function T(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"uppercase"),e.qZA(),e.TgZ(4,"td"),e.YNc(5,v,2,0,"span",49),e.YNc(6,Z,2,0,"span",49),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"number"),e.qZA(),e.TgZ(10,"td")(11,"button",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editArticle(a))}),e._UZ(12,"i",51),e.qZA()()()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,4,t.designation)),e.xp6(3),e.Q6J("ngIf","m2"===t.storageUnit),e.xp6(1),e.Q6J("ngIf","pi\xe8ce"===t.storageUnit),e.xp6(2),e.hij("",e.xi3(9,6,t.purchasePrice,"1.2-2")," TND")}}function b(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",40)(1,"a",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.getArticles(a))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw();e.ekj("active",i.page.number===t),e.xp6(2),e.Oqu(t+1)}}const C=[{path:"",component:(()=>{class r{constructor(t,i){this.formBuilder=t,this.articleService=i,this.articleForm=this.formBuilder.group({designation:["",o.kI.required],storageUnit:["",o.kI.required],purchasePrice:["",o.kI.required]}),this.articles=[],this.selectedArticle=null,this.errorMessage="",this.page={content:[],totalElements:0,totalPages:0,number:0},this.search="",this.currentPage=0,this.totalPages=0,this.pageSize=10}onSubmit(){this.articleForm.valid&&(this.selectedArticle?(console.log("Modifier l'article :",this.articleForm.value),this.articleService.updateArticle(this.selectedArticle.id,this.articleForm.value).subscribe(t=>{console.log("Article cr\xe9\xe9:",t),this.articleForm.reset(),this.selectedArticle=null,this.getArticles()},t=>{console.log(t),this.errorMessage=t})):this.articleService.createArticle(this.articleForm.value).subscribe({next:t=>{console.log("Article cr\xe9\xe9:",t),this.articleForm.reset(),this.getArticles()},error:t=>{console.log(t),this.errorMessage=t}}))}editArticle(t){this.selectedArticle=t,this.articleForm.patchValue({designation:t.designation,storageUnit:t.storageUnit,purchasePrice:t.purchasePrice})}ngOnInit(){this.getArticles()}getArticles(t=0){this.currentPage=t,this.articleService.getArticles(this.currentPage,this.pageSize,this.search).subscribe(i=>{this.page=i,this.articles=i.content,this.totalPages=i.totalPages})}onSearchChange(){this.getArticles()}get pages(){return Array(this.totalPages).fill(0).map((t,i)=>i)}closeAlert(){this.errorMessage=""}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(p.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-article"]],decls:75,vars:20,consts:[[1,"app-content","container","center-layout","mt-2"],[1,"content-overlay"],[1,"content-wrapper"],[1,"content-header","row"],["class","alert alert-pink alert-dismissible fade show text-white","role","alert",4,"ngIf"],[1,"content-body"],[1,"users-list-filter","px-1"],[3,"formGroup","ngSubmit"],[1,"row","border","border-light","rounded","py-2","mb-2"],[1,"col-12","col-sm-6","col-lg-6"],["for","designation"],[1,"form-group"],["type","text","id","designation","formControlName","designation","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-2"],["for","storageUnit"],["id","storageUnit","formControlName","storageUnit","required","",1,"form-control"],["value","m2"],["value","pi\xe8ce"],["for","purchasePrice"],["type","number","id","purchasePrice","formControlName","purchasePrice","required","","placeholder","0","min","1",1,"form-control"],[1,"col-12","col-sm-6","col-lg-2","d-flex","align-items-center"],["type","submit",1,"btn","btn-block","btn-primary","glow",3,"disabled"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"bug-list-search"],[1,"bug-list-search-content"],[1,"sidebar-toggle","d-block","d-lg-none"],[1,"feather","icon-menu","font-large-1"],["action","#"],[1,"position-relative"],["type","search","id","search-contacts","placeholder","Rechercher un article...","name","searchTerm",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control-position"],[1,"fa","fa-search","text-size-base","text-muted","la-rotate-270"],[1,"table","table-striped","table-responsive-md"],[4,"ngFor","ngForOf"],["aria-label","Page navigation mb-3 "],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["role","alert",1,"alert","alert-pink","alert-dismissible","fade","show","text-white"],[1,"text-white"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","text-white",3,"click"],["aria-hidden","true"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","btn-outline-purple","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"page-link",3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0),e._UZ(2,"div",1),e.TgZ(3,"div",2),e._UZ(4,"div",3),e.YNc(5,A,6,1,"div",4),e.TgZ(6,"div",5),e._UZ(7,"div",1),e.TgZ(8,"div",6)(9,"form",7),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"DESIGNATION:"),e.qZA(),e.TgZ(14,"fieldset",11),e._UZ(15,"input",12),e.YNc(16,h,2,0,"div",13),e.qZA()(),e.TgZ(17,"div",14)(18,"label",15),e._uU(19,"UNIT\xc9:"),e.qZA(),e.TgZ(20,"fieldset",11)(21,"select",16)(22,"option",17),e._uU(23,"m2"),e.qZA(),e.TgZ(24,"option",18),e._uU(25,"pi\xe8ce"),e.qZA()(),e.YNc(26,f,2,0,"div",13),e.qZA()(),e.TgZ(27,"div",14)(28,"label",19),e._uU(29,"PU TTC:"),e.qZA(),e.TgZ(30,"fieldset",11),e._UZ(31,"input",20),e.YNc(32,_,2,0,"div",13),e.qZA()(),e.TgZ(33,"div",21)(34,"button",22),e._uU(35),e.qZA()()()()(),e.TgZ(36,"section",23)(37,"div",24)(38,"div",25)(39,"div",26)(40,"div",27)(41,"div",28)(42,"div",29),e._UZ(43,"i",30),e.qZA(),e.TgZ(44,"form",31)(45,"div",32)(46,"input",33),e.NdJ("ngModelChange",function(a){return i.search=a})("ngModelChange",function(){return i.onSearchChange()}),e.qZA(),e.TgZ(47,"div",34),e._UZ(48,"i",35),e.qZA()()()()()()()()(),e.TgZ(49,"section",23)(50,"div",24)(51,"div",25)(52,"div",26)(53,"table",36)(54,"thead")(55,"tr")(56,"th"),e._uU(57,"D\xc9SIGNATION"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"UNIT\xc9"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"PU TTC"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"ACTION"),e.qZA()()(),e.TgZ(64,"tbody"),e.YNc(65,T,13,9,"tr",37),e.qZA()(),e.TgZ(66,"nav",38)(67,"ul",39)(68,"li",40)(69,"a",41),e.NdJ("click",function(){return i.getArticles(i.page.number-1)}),e._uU(70,"\xab"),e.qZA()(),e.YNc(71,b,3,3,"li",42),e.TgZ(72,"li",40)(73,"a",43),e.NdJ("click",function(){return i.getArticles(i.page.number+1)}),e._uU(74,"\xbb"),e.qZA()()()()()()()()()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.errorMessage),e.xp6(4),e.Q6J("formGroup",i.articleForm),e.xp6(6),e.ekj("is-invalid",i.articleForm.controls.designation.invalid&&i.articleForm.controls.designation.touched||i.errorMessage),e.xp6(1),e.Q6J("ngIf",i.articleForm.controls.designation.invalid&&i.articleForm.controls.designation.touched),e.xp6(5),e.ekj("is-invalid",i.articleForm.controls.storageUnit.invalid&&i.articleForm.controls.storageUnit.touched),e.xp6(5),e.Q6J("ngIf",i.articleForm.controls.storageUnit.invalid&&i.articleForm.controls.storageUnit.touched),e.xp6(5),e.ekj("is-invalid",i.articleForm.controls.purchasePrice.invalid&&i.articleForm.controls.purchasePrice.touched),e.xp6(1),e.Q6J("ngIf",i.articleForm.controls.purchasePrice.invalid&&i.articleForm.controls.purchasePrice.touched),e.xp6(2),e.Q6J("disabled",i.articleForm.invalid),e.xp6(1),e.Oqu(i.selectedArticle?"Modifier":"Cr\xe9er"),e.xp6(11),e.Q6J("ngModel",i.search),e.xp6(19),e.Q6J("ngForOf",i.articles),e.xp6(3),e.ekj("disabled",0===i.page.number),e.xp6(3),e.Q6J("ngForOf",i.pages),e.xp6(1),e.ekj("disabled",i.page.number===i.page.totalPages-1))},dependencies:[s.sg,s.O5,m.S,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.Q7,o.qQ,o.sg,o.u,o.On,o.F,s.gd,s.JJ]}),r})()}];let U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.Bz.forChild(C),g.Bz]}),r})();var q=l(4466);let F=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.ez,U,q.m,o.UX,o.u5]}),r})()}}]);